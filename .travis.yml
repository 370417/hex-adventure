sudo: enabled
language: rust
cache: cargo

rust:
  - nightly
  - beta
  - stable

matrix:
  allow_failures:
    - rust: nightly

before_install:
 - sudo apt install libegl1-mesa-dev libgles2-mesa-dev libasound2-dev libsdl2-dev

before_script:
 - rustup component add rustfmt-preview
script:
 - cargo fmt --all -- --write-mode=diff
 - cargo build
 - cargo test
